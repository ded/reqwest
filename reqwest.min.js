/*!
 * Reqwest! A general purpose XHR connection manager
 * license MIT (c) Dustin Diaz 2015
 * https://github.com/ded/reqwest
 */
!function(p,t,m){"undefined"!=typeof module&&module.exports?module.exports=m():"function"==typeof define&&define.amd?define(m):t[p]=m()}("reqwest",this,function(){function p(a){var b=I.exec(a.url),b=b&&b[1]||l.location.protocol;return J.test(b)?K.test(a.request.status):!!a.request.response}function t(a,b,c){return function(){if(a._aborted)return c(a.request);if(a._timedOut)return c(a.request,"Request is aborted: timeout");a.request&&4==a.request.readyState&&(a.request.onreadystatechange=L,p(a)?b(a.request):
    c(a.request))}}function m(a,b){var c=b.headers||{},d;c.Accept=c.Accept||q.accept[b.type]||q.accept["*"];var g="undefined"!==typeof FormData&&b.data instanceof FormData;b.crossOrigin||c["X-Requested-With"]||(c["X-Requested-With"]=q.requestedWith);c["Content-Type"]||g||(c["Content-Type"]=b.contentType||q.contentType);for(d in c)c.hasOwnProperty(d)&&"setRequestHeader"in a&&a.setRequestHeader(d,c[d])}function M(a){r=a}function B(a,b){return a+(/\?/.test(a)?"&":"?")+b}function N(a,b,c,d){var g=O++,f=a.jsonpCallback||
    "callback";a=a.jsonpCallbackName||k.getcallbackPrefix(g);var e=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),n=d.match(e),h=C.createElement("script"),u=0,m=-1!==navigator.userAgent.indexOf("MSIE 10.0");n?"?"===n[3]?d=d.replace(e,"$1="+a):a=n[3]:d=B(d,f+"="+a);l[a]=M;h.type="text/javascript";h.src=d;h.async=!0;"undefined"===typeof h.onreadystatechange||m||(h.htmlFor=h.id="_reqwest_"+g);h.onload=h.onreadystatechange=function(){if(h.readyState&&"complete"!==h.readyState&&"loaded"!==h.readyState||u)return!1;
    h.onload=h.onreadystatechange=null;h.onclick&&h.onclick();b(r);r=void 0;v.removeChild(h);u=1};v.appendChild(h);return{abort:function(){h.onload=h.onreadystatechange=null;c({},"Request is aborted: timeout",{});r=void 0;v.removeChild(h);u=1}}}function P(a,b){var c=this.o,d=(c.method||"GET").toUpperCase(),g="string"===typeof c?c:c.url,f=!1!==c.processData&&c.data&&"string"!==typeof c.data?k.toQueryString(c.data):c.data||null,e,n=!1;"jsonp"!=c.type&&"GET"!=d||!f||(g=B(g,f),f=null);if("jsonp"==c.type)return N(c,
    a,b,g);e=c.xhr&&c.xhr(c)||Q(c);e.open(d,g,!1===c.async?!1:!0);m(e,c);"undefined"!==typeof c.withCredentials&&"undefined"!==typeof e.withCredentials&&(e.withCredentials=!!c.withCredentials);l.XDomainRequest&&e instanceof l.XDomainRequest?(e.onload=a,e.onerror=b,e.onprogress=function(){},n=!0):e.onreadystatechange=t(this,a,b);c.before&&c.before(e);n?setTimeout(function(){e.send(f)},200):e.send(f);return e}function w(a,b){this.o=a;this.fn=b;D.apply(this,arguments)}function R(a){if(null!==a){if(a.match("json"))return"json";
    if(a.match("javascript"))return"js";if(a.match("text"))return"html";if(a.match("xml"))return"xml"}}function D(a,b){function c(b){a.timeout&&clearTimeout(f.timeout);for(f.timeout=null;0<f._completeHandlers.length;)f._completeHandlers.shift()(b)}function d(e){var d=a.type||e&&R(e.getResponseHeader("Content-Type"));e="jsonp"!==d?f.request:e;var h=E.dataFilter(e.responseText,d);try{e.responseText=h}catch(k){}if(h)switch(d){case "json":try{e=l.JSON?l.JSON.parse(h):eval("("+h+")")}catch(k){return g(e,"Could not parse JSON in response",
    k)}break;case "js":e=eval(h);break;case "html":e=h;break;case "xml":e=e.responseXML&&e.responseXML.parseError&&e.responseXML.parseError.errorCode&&e.responseXML.parseError.reason?null:e.responseXML}f._responseArgs.resp=e;f._fulfilled=!0;b(e);for(f._successHandler(e);0<f._fulfillmentHandlers.length;)e=f._fulfillmentHandlers.shift()(e);c(e)}function g(a,b,d){a=f.request;f._responseArgs.resp=a;f._responseArgs.msg=b;f._responseArgs.t=d;for(f._erred=!0;0<f._errorHandlers.length;)f._errorHandlers.shift()(a,
    b,d);c(a)}this.url="string"==typeof a?a:a.url;this.timeout=null;this._fulfilled=!1;this._successHandler=function(){};this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=!1;this._responseArgs={};var f=this;b=b||function(){};a.timeout&&(this.timeout=setTimeout(function(){f._timedOut=!0;f.request.abort()},a.timeout));a.success&&(this._successHandler=function(){a.success.apply(a,arguments)});a.error&&this._errorHandlers.push(function(){a.error.apply(a,arguments)});
    a.complete&&this._completeHandlers.push(function(){a.complete.apply(a,arguments)});this.request=P.call(this,d,g);!1===this.o.async&&(p(this)?d(this.request):g(this.request))}function k(a,b){return new w(a,b)}function x(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function F(a,b){var c=a.name,d=a.tagName.toLowerCase(),g=function(a){a&&!a.disabled&&b(c,x(a.attributes.value&&a.attributes.value.specified?a.value:a.text))},f;if(!a.disabled&&c)switch(d){case "input":/reset|button|image|file/i.test(a.type)||
(g=/checkbox/i.test(a.type),d=/radio/i.test(a.type),f=a.value,(!g&&!d||a.checked)&&b(c,x(g&&""===f?"on":f)));break;case "textarea":b(c,x(a.value));break;case "select":if("select-one"===a.type.toLowerCase())g(0<=a.selectedIndex?a.options[a.selectedIndex]:null);else for(d=0;a.length&&d<a.length;d++)a.options[d].selected&&g(a.options[d])}}function G(){var a,b;for(b=0;b<arguments.length;b++){a=arguments[b];/input|select|textarea/i.test(a.tagName)&&F(a,this);for(var c=["input","select","textarea"],d=void 0,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  g=void 0,f=void 0,d=0;d<c.length;d++)for(f=a[H](c[d]),g=0;g<f.length;g++)F(f[g],this)}}function S(){return k.toQueryString(k.serializeArray.apply(null,arguments))}function T(){var a={};G.apply(function(b,c){b in a?(a[b]&&!y(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments);return a}function z(a,b,c,d){var g,f,e=/\[\]$/;if(y(b))for(g=0;b&&g<b.length;g++)f=b[g],c||e.test(a)?d(a,f):z(a+"["+("object"===typeof f?g:"")+"]",f,c,d);else if(b&&"[object Object]"===b.toString())for(g in b)z(a+"["+g+"]",
    b[g],c,d);else d(a,b)}var l=this;if("window"in l)var C=document,H="getElementsByTagName",v=C[H]("head")[0];else{var A;try{A=require("xhr2")}catch(a){throw Error("Peer dependency `xhr2` required! Please npm install xhr2");}}var J=/^http/,I=/(^\w+):\/\//,K=/^(20\d|1223)$/,O=0,U="reqwest_"+ +new Date,r,L=function(){},y="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},q={contentType:"application/x-www-form-urlencoded",requestedWith:"XMLHttpRequest",accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",
    xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},Q=function(a){if(!0===a.crossOrigin){if((a=l.XMLHttpRequest?new XMLHttpRequest:null)&&"withCredentials"in a)return a;if(l.XDomainRequest)return new XDomainRequest;throw Error("Browser does not support cross-origin requests");}return l.XMLHttpRequest?new XMLHttpRequest:A?new A:new ActiveXObject("Microsoft.XMLHTTP")},E={dataFilter:function(a){return a}};
    w.prototype={abort:function(){this._aborted=!0;this.request.abort()},retry:function(){D.call(this,this.o,this.fn)},then:function(a,b){a=a||function(){};b=b||function(){};this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b));return this},always:function(a){this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a);
        return this},fail:function(a){this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a);return this},"catch":function(a){return this.fail(a)}};k.serializeArray=function(){var a=[];G.apply(function(b,c){a.push({name:b,value:c})},arguments);return a};k.serialize=function(){if(0===arguments.length)return"";var a,b=Array.prototype.slice.call(arguments,0);(a=b.pop())&&a.nodeType&&b.push(a)&&(a=null);a&&(a=a.type);return("map"==a?T:"array"==a?k.serializeArray:
        S).apply(null,b)};k.toQueryString=function(a,b){var c,d=b||!1,g=[],f=encodeURIComponent,e=function(a,b){b="function"===typeof b?b():null==b?"":b;g[g.length]=f(a)+"="+f(b)};if(y(a))for(c=0;a&&c<a.length;c++)e(a[c].name,a[c].value);else for(c in a)a.hasOwnProperty(c)&&z(c,a[c],d,e);return g.join("&").replace(/%20/g,"+")};k.getcallbackPrefix=function(){return U};k.compat=function(a,b){a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&
    delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp));return new w(a,b)};k.ajaxSetup=function(a){a=a||{};for(var b in a)E[b]=a[b]};return k});